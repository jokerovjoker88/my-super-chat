<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nebula Chat</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        :root { --neon: #00f2ff; --violet: #7000ff; --deep: #050a14; }
        body, html { margin: 0; padding: 0; height: 100vh; background: var(--deep); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; }
        
        /* Экран входа */
        .overlay { position: fixed; inset: 0; background: #050a14; display: flex; align-items: center; justify-content: center; z-index: 999; }
        .auth-box { background: #0b1426; padding: 40px; border-radius: 20px; border: 1px solid var(--neon); text-align: center; width: 300px; }
        input { width: 100%; padding: 12px; margin: 10px 0; background: #000; border: 1px solid #333; color: #fff; border-radius: 8px; box-sizing: border-box; outline: none; }
        button { width: 100%; padding: 12px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .btn-login { background: var(--neon); color: #000; margin-bottom: 10px; }
        .btn-reg { background: transparent; border: 1px solid var(--violet); color: #fff; }

        /* Главный интерфейс */
        .app { display: flex; height: 100vh; width: 100vw; }
        .sidebar { width: 300px; background: #0b1426; border-right: 1px solid #1a2a44; display: flex; flex-direction: column; }
        .chat-main { flex: 1; display: flex; flex-direction: column; background: #070d19; position: relative; }
        
        /* ЧАТ ОКНО */
        #chat-win { display: flex; flex-direction: column; height: 100%; }
        .chat-head { padding: 15px; background: #0b1426; border-bottom: 1px solid #1a2a44; color: var(--neon); font-weight: bold; }
        #messages { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        
        /* ПОЛЕ ВВОДА - ВСЕГДА ВНИЗУ */
        .input-box { padding: 20px; background: #0b1426; display: flex; gap: 10px; border-top: 1px solid #1a2a44; }
        .input-box input { flex: 1; margin: 0; }
        .btn-send { width: 50px; background: var(--neon); color: #000; }

        /* Сообщения */
        .msg { max-width: 70%; padding: 10px 15px; border-
